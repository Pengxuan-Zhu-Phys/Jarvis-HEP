Scan: 
  name: "Higgsino_LLP_PeakM100"
  # name: "Higgsino_LLP_PeakP100"
  save_dir: "&J/Results"

Sampling:
  Method: "Grid" 
  Variables:
    - name: M1
      description: "Variable X following a Flat distribution for sampling."
      distribution:
        type: Flat
        parameters:
          # min: 730
          # max: 750
          # num: 2012
          min: -550
          max: -600
          num: 500
    # - name: M2
    #   description: "Variable Y following a Logarithmic distribution for sampling."
    #   distribution:
    #     type: Flat
    #     parameters:
    #       min: 10000
    #       max: 600
    #       length: 200

    # - name: ratio
    #   description: "Variable Y following a Logarithmic distribution for sampling."
    #   distribution:
    #     type: Flat
    #     parameters:
    #       min: -2.9
    #       max: -3.1
    #       length: 70

  LogLikelihood: 
    - {name: "LogL_comp",   expression: "-100 * log(abs(mN2) - abs(mN1))"}

EnvReqs:
  OS: 
    - name: linux 
      version: ">=5.10.0"
    - name: Darwin
      version: ">=10.14"
  Check_default_dependences:
    required: true
    default_yaml_path:  "&J/src/card/environment_default.yaml"

Calculators:
  make_paraller: 20
  path: "&J/WorkShop/Program"
  Modules:
    - name: SUSYHIT
      required_modules: [] 
      clone_shadow: True
      path: &susyhit_path "&J/WorkShop/Program/susyhit/@PackID"  # Define Anchor point 
      source: "&J/External/Program/susyhit"
      installation:
          - "cp ${source}/susyhit.tar.gz ${path}"
          - "cd ${path}"
          - "tar -zxvf susyhit.tar.gz"
          - "make" 
      initialization:
          - "cp ${source}/suspect2_lha_llp_temp.in ${path}/suspect2_lha.in"
      execution:
        path: *susyhit_path  # using the Anchor point
        commands:
          - "rm -f susyhit_slha.out"
          - "./run suspect2_lha.in"
        input:
          - name: input_file1
            path: "&J/WorkShop/Program/susyhit/@PackID/suspect2_lha.in"  
            type: "SLHA"
            actions:
              - type: "Replace"
                variables:
                  - { name: "M1", placeholder: ">>>>>M1<<<<<" }
                  # - { name: "M2", placeholder: ">>>>>M2<<<<<" }
                  # - { name: "M2", placeholder: ">>>>>M2<<<<<", expression: "M1 * ratio"  }
            save: false
        output:
          - name: output_file1
            path: "&J/WorkShop/Program/susyhit/@PackID/susyhit_slha.out" 
            type: "SLHA"
            save: False
            variables:
              - { name: M2,           block: EXTPAR,    entry: 2 }
              - { name: Mu,           block: EXTPAR,    entry: 23 }
              - { name: TanBeta,      block: EXTPAR,    entry: 25 }
              - { name: mN1,          block: MASS,    entry: 1000022 }
              - { name: mN2,          block: MASS,    entry: 1000023 }
              - { name: mC1,          block: MASS,    entry: 1000024 }
              - { name: WC1,          block: DECAY,   entry: 1000024 }
              - { name: WN2,          block: DECAY,   entry: 1000023 }
              - { name: BRN22N1a,     block: DECAY,   entry: [1000023, 1000022, 22]}
              - { name: mh1,          block: MASS,    entry: 25 }

Utils:
  interpolations_1D:
    - name: XenonSD2019
      file: "&J/External/Info/Xenon1T2019SD_p.csv"
      logY: True
      logX: False 
      kind: "cubic"
    - name: inter1P
      x_values: [1, 2, 3, 4, 5]
      y_values: [2, 1.8, 1.5, 1.2, 0.8]
      kind: "cubic"
