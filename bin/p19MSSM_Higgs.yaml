Scan: 
  name: "p19MSSM_Higgs"
  save_dir: "&J/Results"

Sampling:
  Method: "Dynesty" 
  Variables:
    - name: M1
      description: "Bino Soft breaking mass parameters"
      distribution:
        type: Flat
        parameters:
          min: -5000.
          max: 5000.
    - name: M2
      description: "Wino Soft breaking mass parameters"
      distribution:
        type: Flat
        parameters:
          min: -5000.
          max: 5000.
    - name: M3
      description: "Gluino Soft breaking mass parameters"
      distribution:
        type: Flat
        parameters:
          min: 100.
          max: 5000.
    - name: MU
      description: "Higgsino Soft breaking mass parameters"
      distribution:
        type: Flat
        parameters:
          min: -5000.
          max: 5000.
    - name: MA
      description: "Pesudoscalar Higgs mass parameters"
      distribution:
        type: Flat
        parameters:
          min: 100.
          max: 5000.
    - name: TanBETA
      description: "Scalar doublet vevs ratio"
      distribution:
        type: Flat
        parameters:
          min: 1.0
          max: 60.0
    - name: AD
      description: "Trilinear soft coupling parameter for Down-type, Charm-type and Bottom-type quarks "
      distribution:
        type: Flat
        parameters:
          min: -10000.
          max: 10000.
    - name: AU
      description: "Trilinear soft coupling parameter for Up-type, Strange-type and Top-type quarks "
      distribution:
        type: Flat
        parameters:
          min: -10000.
          max: 10000.
    - name: AE
      description: "Trilinear soft coupling parameter for Eletron-type, Muon-type and Tau-type leptons "
      distribution:
        type: Flat
        parameters:
          min: -10000.
          max: 10000.
    - name: MEL
      description: "1st/2nd generation Left-handed slepton soft mass"
      distribution:
        type: Flat
        parameters:
          min: 50.
          max: 5000.
    - name: MER
      description: "1st/2nd generation Right-handed slepton soft mass"
      distribution:
        type: Flat
        parameters:
          min: 50.
          max: 5000.
    - name: MTAUL
      description: "3rd generation slepton soft mass"
      distribution:
        type: Flat
        parameters:
          min: 50.
          max: 5000.
    - name: MTAUR
      description: "3rd generation slepton soft mass"
      distribution:
        type: Flat
        parameters:
          min: 50.
          max: 5000.
    - name: MQL
      description: "1st/2nd generation left-handed squark soft mass"
      distribution:
        type: Flat
        parameters:
          min: 50.
          max: 5000.
    - name: MTL
      description: "3rd generation left-handed squark (stop/sbottom) soft mass"
      distribution:
        type: Flat
        parameters:
          min: 50.
          max: 5000.
    - name: MUR
      description: "1st/2nd generation right-handed up-type squark soft mass "
      distribution:
        type: Flat
        parameters:
          min: 50.
          max: 5000.
    - name: MTR
      description: "3rd generation right-handed up-type squark (stop) soft mass"
      distribution:
        type: Flat
        parameters:
          min: 50.
          max: 5000.
    - name: MDR
      description: "1st/2nd generation right-handed down-type squark soft mass"
      distribution:
        type: Flat
        parameters:
          min: 50.
          max: 5000.
    - name: MBR
      description: "3rd generation right-handed down-type squark (sbottom) soft mass"
      distribution:
        type: Flat
        parameters:
          min: 50.
          max: 5000.

    - name: MTOP
      description: "Top quark pole mass"
      distribution:
        type: Normal
        parameters:
          mean: 173.1
          stddev: 0.6
    - name: ALPHAS
      description: "alpha_s(MZ)"
      distribution:
        type: Normal
        parameters:
          mean: 0.1181
          stddev: 0.0011
    - name: MBOTTOM
      description: "Bottom quark pole mass"
      distribution:
        type: Normal
        parameters:
          mean: 4.18
          stddev: 0.03

  Bounds:
    nlive:  12800
    rseed:  21
    dlogz:  0.1
    run_nested: 
      print_progress: True

      # maxcall:  4000  
  LogLikelihood: 
    - {name: "LogL_Higgs",  expression: "(2 + z)**5"}
  selection: "(2.0 * X < Y)"

EnvironmentRequirements:
  OS: 
    - name: linux 
      version: ">=3.10.0"
    - name: Darwin
      version: ">=10.14"
  Check_default_dependences:
    required: true
    default_yaml_path:  "&J/src/card/environment_default.yaml"

SupportingLibrary:
  path: "&J/External/Library"
  make_paraller: 16
  Modules:
    - name: "Delphes"
      required_modules: []
      installed: False
      installation:
        path: "&J/External/Library/Delphes"
        source: "&J/External/Library/Source/Delphes-3.5.0.tar.gz"
        commands:
          - "cd ${SupportingLibrary:path}"
          - "rm -rf Delphes*"
          - "cp ${source} ./"
          - "tar -xzf Delphes-3.5.0.tar.gz"
          - "mv ./Delphes-3.5.0 ${path}"
          - "cd ${path}"
          - "source @{ROOT path}/bin/thisroot.sh"
          - "./configure"
          - "make -j${SupportingLibrary:make_paraller}"

    - name: "HepMC"
      required_modules: []
      installed: False
      installation:
        path: "&J/External/Library/HepMC"
        source: "&J/External/Library/Source/HepMC-2.06.09.tar.gz"
        commands:
          - "cd ${SupportingLibrary:path}"
          - "rm -rf HepMC*"
          - "cp ${source} ./"
          - "tar -xzf HepMC-2.06.09.tar.gz"
          - "cd ${SupportingLibrary:path}/HepMC-2.06.09"
          - "./bootstrap"
          - "./configure --with-momentum=GEV --with-length=MM --prefix=${path}"
          - "make -j${SupportingLibrary:make_paraller}"
          - "make install"

    - name: "Pythia8"
      required_modules: 
        - "HepMC"
      installed: False
      installation:
        path: "&J/External/Library/Pythia8"
        source: "&J/External/Library/Source/pythia8230.tgz"
        commands:
          - "cd ${SupportingLibrary:path}"
          - "mkdir Pythia8"
          - "cd ${SupportingLibrary:path}/Source"
          - "tar -zxvf pythia8230.tgz"
          - "cd ${SupportingLibrary:path}/Source/pythia8230"
          - "./configure --with-hepmc2=${SupportingLibrary:path}/HepMC --prefix=${path}"
          - "make -j${SupportingLibrary:make_paraller}"
          - "make install"

Calculators:
  make_paraller: 16
  path: "&J/WorkShop/Program"
  Modules:
    - name: EggBox
      required_modules: [] 
      clone_shadow: True
      path: &eggbox_path "&J/WorkShop/Program/EggBox/@PackID"  # Define Anchor point 
      source: "&J/External/Inertial/EggBox"
      installation:
          - "cp -r ${source}/* ${path}"
      initialization:
          - "cp -r ${source}/input.json ${path}/input.json"
          - "rm -f output.json"
      execution:
        path: *eggbox_path  # using the Anchor point
        commands:
          - "./eggbox.py"
        input:
          - name: inpjson
            path: "&J/WorkShop/Program/EggBox/@PackID/input.json"  
            type: "Json"
            actions:
              - type: "Dump"
                variables:
                  - { name: "xx", expression: "x * Pi" }
                  - { name: "yy", expression: "y * Pi" }
                  - { name: "cx", expression: "(x + y) * Pi", entry: "test.config.x" }
            save: True
        output:
          - name: oupjson
            path: "&J/WorkShop/Program/EggBox/@PackID/output.json" 
            type: "Json"
            save: True
            variables:
              - {name: z}

Utils:
  interpolations_1D:
    - name: XenonSD2019
      file: "&J/External/Info/Xenon1T2019SD_p.csv"
      logY: True
      logX: False 
      kind: "cubic"
    - name: inter1P
      x_values: [1, 2, 3, 4, 5]
      y_values: [2, 1.8, 1.5, 1.2, 0.8]
      kind: "cubic"
